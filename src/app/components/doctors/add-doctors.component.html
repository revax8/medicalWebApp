<div class="card" style="width: 500px;">
<div class="card-header">
<h3>Add new Doctor</h3>
</div>

<form novalidate (ngSubmit) = "save()" [formGroup] = "doctorFormGroup"> 
<div class="card-body">
  
    <div class="row">
            <div class="col-md-6" >
                <i>Name: </i> 
                <input type="text"     
                placeholder="Name  (required)"
                formControlName = "name"
                [ngClass] = "{'form-control is-invalid': (doctorFormGroup.get('name')?.touched || doctorFormGroup.get('name')?.dirty)
                                            && !doctorFormGroup.get('name')?.valid}"            
                >
                <span class="invalid-feedback">
                    <span *ngIf="doctorFormGroup.get('name')?.errors?.['required']">
                        Please enter your  name.
                    </span>
                    <span *ngIf="doctorFormGroup.get('name')?.errors?.['minlength']">
                        The name must be longer than 3 characters.
                    </span>
                </span>           
            </div>

            <div class="col-md-6">
                <i>Last Name: </i>
                <input type="text"
                    placeholder="Last name (required)"
                    class="form-control"
                    formControlName = "lastName"
                    [ngClass] = "{ 'form-control is-invalid' : (doctorFormGroup.get('lastName')?.touched || doctorFormGroup.get('lastName')?.dirty)
                                && !doctorFormGroup.get('lastName')?.valid 
                                }"
                />
            <span class="invalid-feedback">
                <span *ngIf = "doctorFormGroup.get('lastName')?.errors?.['required']">
                    Please enter your Last name
                </span>
                <span *ngIf = "doctorFormGroup.get('lastName')?.errors?.['minlength']">
                    Last name must be longer than 3 characteres.
                </span>
            </span>
            </div>

            <div class="col-md-6">
                <i>Email</i>
                <input type = "email"
                placeholder = "Email (required)"
                formControlName = "email" 
                [ngClass] = "{'form-control is-invalid' : (doctorFormGroup.get('email')?.touched || doctorFormGroup.get('email')?.dirty)
                             && !doctorFormGroup.get('email')?.valid
                             }"
                >
            
                  
                <span class="invalid-feedback">
                    <span *ngIf = "doctorFormGroup.get('email')?.errors?.['required']">
                        please enter Email
                    </span>
                    <span *ngIf = "doctorFormGroup.get('email')?.errors?.['email']">
                        please enter a valid email address.
                    </span>
                </span>
            </div>

            <div class="col-md-6">
                <i>Phone </i>
                <input type="text"
                  placeholder="{{showMessage ? 'Phone (required)' : 'Phone'}}"
                    class="form-control"
                    formControlName = "phone"
                    [ngClass] = '{ 
                                    "form-contro is-invalid" : ( doctorFormGroup.get("phone")?.touched || 
                                                                doctorFormGroup.get("phone")?.dirty) &&
                                                                !doctorFormGroup.get("phone")?.valid
                                }'
                    
                />
                &nbsp; 
                <div class="form-group row mb-2">
                    <div class="col-md-8">
                      <div class="form-check">
                        <label class="form-check-label"> Required
                          <input class="form-check-input"                                 
                                 type="checkbox"
                                 (click)="setNotification($event)"
                                 formControlName="required">     
                        </label>
                      </div>
                    </div>
                  </div>
            <span class="invalid-feedback">
                <span *ngIf = "doctorFormGroup.get('phone')?.errors?.['required']">
                    Please enter your Phone
                </span>
            </span>
            </div>

            <div class="col-md-6">
                <i>Experience</i> &nbsp;
                <input type="number"
                style="width: 80px;"
                formControlName = "experience"
                [ngClass] = "{'form-control is-invalid' : (doctorFormGroup.get('experience')?.touched ||
                                                           doctorFormGroup.get('experience')?.dirty) &&
                                                           !doctorFormGroup.get('experience')?.valid }"/>
             <span  class="invalid-feedback">                
                <span *ngIf = "doctorFormGroup.get('experience')?.errors?.['range']">
                    Plase rate experience form 1 to 5.
                </span>
             </span>
            </div>
    </div>

</div>

<div class = "card-footer">
    <button class = "btn btn-outline-secondary"
    style ="width: 90px;"
    (click) ="onBack()">
    <i class ="fa fa-chevron-left"></i> Cancel
    </button> &nbsp;

    <button class="btn btn-primary"  
    style="width: 90px;"
    [title] = "doctorFormGroup.valid ? 'Save your data' : 'Disabled until the form data is valid'"
    [disabled] = "!doctorFormGroup.valid"
    > Save

    </button>
</div>
</form>
</div>

<br>Dirty: {{ doctorFormGroup.dirty }}
<br>Touched: {{ doctorFormGroup.touched }}
<br>Valid: {{ doctorFormGroup.valid }}
<br>Value: {{ doctorFormGroup.value | json }}
<br>showMessage: {{showMessage | json }}